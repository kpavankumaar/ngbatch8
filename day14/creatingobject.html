<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<div>
		<div>
			<label>Email</label>
			<input type="email" name="email">	
		</div>
		<div>
			<label>Password</label>
			<input type="password" name="password">	
		</div>
		<div>
			<button>Submit</button>
		</div>	
	</div>
	
	<script type="text/javascript">
		var emailEl = document.getElementsByName('email')[0];
		var pwdEl = document.getElementsByName('password')[0];
		var submitBtn = document.getElementsByTagName('button')[0];
		var loginCredentials;
		var xhr = new XMLHttpRequest();
		

		submitBtn.onclick = function(){
	promise.then(val)		// var data = {}
			// data.email =  emailEl.value;
			// data.password = pwdEl.value;
			// console.log(data);
			loginCredentials = new BuildJsonData(emailEl.value,pwdEl.value);
			sendDataToServer(loginCredentials);
			
			
		}
		function BuildJsonData(emailVal,passwordVal){			
			this.email = emailVal;
			this.password = passwordVal;
		}
		function sendDataToServer(data){
			console.log(data);
			xhr.open('get','https://jsonplaceholder.typicode.com/posts',true);
			console.log('xhr.readyState',xhr.readyState);
			console.warn ('xhr.status', xhr.status);
			xhr.onreadystatechange = function(){
				console.log('xhr.readyState',xhr.readyState);
				console.log('xhr.status',xhr.status);
				if(xhr.readyState == 4 && xhr.status == 200){
					console.log('xhr.response', xhr.responseText );
				}else{
					console.error('err ', xhr.readyState , xhr.status)
					// console.log('xhr.response', xhr.responseText );
				}
				
			}
			console.log('xhr.readyState before send',xhr.readyState);
			xhr.send(JSON.stringify(data));
			console.log('xhr.readyState after send',xhr.readyState);

			xhr.onprogress = function(e){
				console.log('onprogress',e, xhr.responseText );
				console.warn('xhr.readyState', xhr.readyState);
			}
			xhr.onloadend = function(e){
				console.log('onloadend xhr.readyState value', xhr.readyState );
			}
			xhr.onloadstart = function(e){
				console.info('onloadstart xhr.readyState value', xhr.readyState);
			}
		}

	</script>
	<script type="text/javascript" src="oojs.js"></script>
</body>
</html>